(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,t,a){e.exports=a(316)},184:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(37),c=a.n(r),o=a(50),i=a.n(o),s=a(20),u=(a(184),a(332)),m=a(317),g=function(){var e;return i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("https://mate-academy.github.io/phone-catalogue-static/api/phones.json"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},p=a(73),f=a(146),d=a(109),b=a(4),h=a.n(b),S=a(40),E=a.n(S),O=a(331),y=a(328),v=a(329),j=a(326),I=a(327),C=[{key:2,value:2,text:"2 phones per page"},{key:3,value:3,text:"3 phones per page"},{key:5,value:5,text:"5 phones per page"},{key:10,value:10,text:"10 phones per page"},{key:20,value:20,text:"20 phones per page"}],w=function(e){var t=e.onChangeItemsPerPage,a=e.onSearchItems,n=e.inputValue,r=e.selectValue;return l.a.createElement("div",{className:"table-options"},l.a.createElement(j.a,{placeholder:"Select phones per page",options:C,onChange:t,value:r}),l.a.createElement(I.a,{icon:"search",placeholder:"Search...",iconPosition:"left",type:"search",onChange:a,value:n}))},N=a(330),k=a(39),J=function(e){var t=e.firstTableItem,a=e.lastTableItem,n=e.entries,r=e.onSwitchPage,c=e.pagesAmount,o=e.activePage,i=a>n?n:a;return l.a.createElement("div",{className:"table-options"},l.a.createElement("div",null,"Showing ".concat(t," to ").concat(i," of ").concat(n," entries")),l.a.createElement(N.a,{activePage:o,boundaryRange:0,ellipsisItem:null,firstItem:{content:l.a.createElement(k.a,{name:"angle double left"}),icon:!0},lastItem:{content:l.a.createElement(k.a,{name:"angle double right"}),icon:!0},prevItem:{content:l.a.createElement(k.a,{name:"angle left"}),icon:!0},nextItem:{content:l.a.createElement(k.a,{name:"angle right"}),icon:!0},pointing:!0,secondary:!0,totalPages:c,onPageChange:r}))},x=JSON.parse(localStorage.getItem("page")),P=JSON.parse(localStorage.getItem("itemsPerPage")),T=JSON.parse(localStorage.getItem("searchValue")),V=JSON.parse(localStorage.getItem("highlightedValue")),A=JSON.parse(localStorage.getItem("activeColumn")),D=JSON.parse(localStorage.getItem("direction")),L=JSON.parse(localStorage.getItem("sortType")),R=JSON.parse(localStorage.getItem("selectedItems")),B=function(e){var t=e.items,a=e.columnConfig,r=e.onEdit,c=Object(n.useState)(x||1),o=Object(s.a)(c,2),i=o[0],u=o[1],m=Object(n.useState)(P||5),g=Object(s.a)(m,2),b=g[0],S=g[1],j=Object(n.useState)(T||""),I=Object(s.a)(j,2),C=I[0],N=I[1],k=Object(n.useState)(V||""),B=Object(s.a)(k,2),H=B[0],K=B[1],F=Object(n.useState)(A||null),M=Object(s.a)(F,2),U=M[0],q=M[1],z=Object(n.useState)(D||null),G=Object(s.a)(z,2),Q=G[0],W=G[1],X=Object(n.useState)(L||""),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1],_=Object(n.useState)(R||[]),ee=Object(s.a)(_,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(0),le=Object(s.a)(ne,2),re=le[0],ce=le[1],oe=Object(n.useState)(""),ie=Object(s.a)(oe,2),se=ie[0],ue=ie[1],me=Object(n.useState)(""),ge=Object(s.a)(me,2),pe=ge[0],fe=ge[1],de=E.a.debounce(function(e){N(e)},500),be=function(e){return H&&""!==e?e.split(new RegExp("(".concat(H,")"),"gi")).map(function(e,t){return l.a.createElement(n.Fragment,{key:"".concat(e+t)},e.toLowerCase()===H.toLowerCase()?l.a.createElement("span",{style:{backgroundColor:"green"}},e):e)}):e},he=function(e){if(te.includes(e))ae(Object(d.a)(te).filter(function(t){return t!==e}));else{var t=Object(d.a)(te);t.push(e),ae(t)}},Se=function(e,t){ce(e.id),fe(t),E.a.keys(e).forEach(function(a){e[a]===t&&ue(a)})},Ee=function(e,t){fe(t.value)},Oe=function(){var e=t.find(function(e){return e.id===re});if(he(e),pe!==e[se]){var a=Object(f.a)({},e,Object(p.a)({},se,pe));r(a)}ce(0)},ye=function(){Oe()},ve=function(e){"Enter"===e.key&&Oe(),"Escape"===e.key&&ce(0)};Object(n.useEffect)(function(){localStorage.setItem("originalItems",JSON.stringify(t)),localStorage.setItem("page",JSON.stringify(i)),localStorage.setItem("itemsPerPage",JSON.stringify(b)),localStorage.setItem("searchValue",JSON.stringify(C)),localStorage.setItem("highlightedValue",JSON.stringify(H)),localStorage.setItem("activeColumn",JSON.stringify(U)),localStorage.setItem("direction",JSON.stringify(Q)),localStorage.setItem("sortType",JSON.stringify(Z)),localStorage.setItem("selectedItems",JSON.stringify(te))});var je=C.toLowerCase(),Ie=t.filter(function(e){return E.a.keys(a).filter(function(e){return a[e].isSearchable}).some(function(t){return e[t].toLowerCase().includes(je)})}),Ce={string:function(e,t){return e[U].localeCompare(t[U])},number:function(e,t){return e[U]-t[U]}}[Z]||function(){return 0},we=Ie.sort(Ce);"descending"===Q&&E.a.reverse(we);var Ne=we.length,ke=Math.ceil(Ne/b),Je=(i-1)*b+1,xe=i*b,Pe=we.slice(Je-1,xe);return l.a.createElement("div",{className:"table-wrapper"},l.a.createElement(w,{onChangeItemsPerPage:function(e,t){S(t.value),u(1)},onSearchItems:function(e,t){var a=t.value.toLowerCase().slice(0,37);u(1),K(a),de(a)},inputValue:H,selectValue:b}),l.a.createElement(O.a,{striped:!0,sortable:!0,selectable:!0,celled:!0},l.a.createElement(O.a.Header,null,l.a.createElement(O.a.Row,null,l.a.createElement(O.a.HeaderCell,{className:h()("header")},l.a.createElement(y.a,{toggle:!0,onChange:function(){t.length!==te.length?ae(t.map(function(e){return e.id})):ae([])},checked:t.every(function(e){return te.includes(e.id)})})),E.a.map(a,function(e,t){return l.a.createElement(O.a.HeaderCell,{style:{textAlign:"center"},key:e.title,sorted:U===e?Q:null,onClick:function(){return a=t,void((n=e.sortType)&&($(n),U!==a?(q(a),W("ascending")):W("ascending"===Q?"descending":"ascending")));var a,n},className:h()("header","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"===e.title&&"snipet-header")},e.title)}))),l.a.createElement(O.a.Body,null,E.a.map(Pe,function(e){return l.a.createElement(O.a.Row,{key:e.imageUrl},l.a.createElement(O.a.Cell,null,l.a.createElement(y.a,{toggle:!0,checked:te.includes(e.id),onChange:function(){return he(e.id)}})),re===e.id&&e[se]===e.name?l.a.createElement(O.a.Cell,{style:{padding:0}},l.a.createElement(v.a,null,l.a.createElement(v.a.TextArea,{defaultValue:e.name,onChange:Ee,onKeyDown:ve,onBlur:ye}))):l.a.createElement(O.a.Cell,{onDoubleClick:function(){return Se(e,e.name)}},be(e.name)),re===e.id&&e[se]===e.age?l.a.createElement(O.a.Cell,{style:{padding:0}},l.a.createElement(v.a,null,l.a.createElement(v.a.TextArea,{defaultValue:e.age,onChange:Ee,onKeyDown:ve,onBlur:ye}))):l.a.createElement(O.a.Cell,{onDoubleClick:function(){return Se(e,e.age)}},e.age),re===e.id&&e[se]===e.snippet?l.a.createElement(O.a.Cell,{style:{padding:0}},l.a.createElement(v.a,null,l.a.createElement(v.a.TextArea,{defaultValue:e.snippet,onChange:Ee,onKeyDown:ve,onBlur:ye}))):l.a.createElement(O.a.Cell,{onDoubleClick:function(){return Se(e,e.snippet)}},be(e.snippet)))}))),l.a.createElement(J,{firstTableItem:Je,lastTableItem:xe,entries:Ne,onSwitchPage:function(e,t){u(t.activePage)},pagesAmount:ke,activePage:i}))},H={name:{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",sortType:"string",isSearchable:!0},age:{title:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",sortType:"number"},snippet:{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",isSearchable:!0}},K=JSON.parse(localStorage.getItem("originalItems")),F=function(){var e=Object(n.useState)(K||[]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(s.a)(c,2),p=o[0],f=o[1],d=Object(n.useState)(!1),b=Object(s.a)(d,2),h=b[0],S=b[1];Object(n.useEffect)(function(){!function(){var e;i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return S(!1),f(!0),t.prev=2,t.next=5,i.a.awrap(g());case 5:e=t.sent,K||r(e),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),S(!0);case 12:f(!1);case 13:case"end":return t.stop()}},null,null,[[2,9]])}()},[]);return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"table-container"},l.a.createElement("h1",{className:"main-title"},"React Datatable"),h&&l.a.createElement("div",{className:"message"},"Something went wrong ..."),p?l.a.createElement("div",{className:"message"},"Loading ..."):l.a.createElement(B,{items:a,columnConfig:H,onEdit:function(e){var t=a.map(function(t){return t.id===e.id?Object.keys(H).every(function(t){return""===e[t]})?"empty":e:t});t.includes("empty")&&t.splice(t.indexOf("empty"),1),r(t)}})),K&&l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,null,l.a.createElement("p",null,"The data was restored from your local storage")),l.a.createElement(m.a,{onClick:function(){localStorage.clear(),window.location.reload()}},"Reset to default")))};c.a.render(l.a.createElement(F,null),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.ca3e4763.chunk.js.map